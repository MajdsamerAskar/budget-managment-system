/* ============================================
   CRITICAL RESPONSIVE FIXES - Add to your main.js or style.css
   ============================================ */

/* IMPORTANT: These styles must be loaded AFTER PrimeVue styles */

/* Force responsive behavior on all views */
* {
  box-sizing: border-box !important;
}

html, body {
  overflow-x: hidden !important;
  width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

#app {
  width: 100% !important;
  max-width: 100% !important;
  overflow-x: hidden !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* ============================================
   FIX: Dashboard View Mobile
   ============================================ */
@media (max-width: 640px) {
  .dashboard-container {
    padding: 0.75rem !important;
  }

  .header-section {
    flex-direction: column !important;
    align-items: stretch !important;
    gap: 1rem !important;
  }

  .header-section h1 {
    font-size: 1.5rem !important;
  }

  .header-section .text-secondary {
    font-size: 0.875rem !important;
  }

  /* Stats Grid - Force 1 column */
  .stats-grid {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
  }

  /* Middle Grid - Force 1 column */
  .middle-grid {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
  }

  /* Bottom Grid - Force 1 column */
  .bottom-grid {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
  }

  /* Card Panel */
  .card-panel {
    padding: 1rem !important;
  }

  /* Stats Card */
  .stats-card {
    padding: 1rem !important;
  }

  .stats-card .amount {
    font-size: 1.25rem !important;
  }

  .stats-card .icon-box {
    width: 40px !important;
    height: 40px !important;
    min-width: 40px !important;
  }

  /* Quick Actions */
  .quick-actions .action-buttons {
    display: flex !important;
    flex-direction: column !important;
    gap: 0.75rem !important;
  }

  .quick-actions .p-button {
    width: 100% !important;
  }
}

/* ============================================
   FIX: Budgets View Mobile
   ============================================ */
@media (max-width: 640px) {
  .budgets-container {
    padding: 0.75rem !important;
  }
}

/* ============================================
   FIX: Transactions View Mobile
   ============================================ */
@media (max-width: 640px) {
  .transactions-container {
    padding: 0.75rem !important;
  }

  /* Transaction List */
  .t-item {
    flex-wrap: nowrap !important;
  }

  .t-item .left {
    min-width: 0 !important;
    flex: 1 !important;
  }

  .t-item .t-title {
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    font-size: 0.875rem !important;
  }

  .t-item .right {
    flex-shrink: 0 !important;
  }
}

/* ============================================
   FIX: Accounts View Mobile
   ============================================ */
@media (max-width: 640px) {
  .accounts-view {
    padding: 0.75rem !important;
  }

  .accounts-grid {
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
  }

  .accounts-header {
    flex-direction: column !important;
    align-items: stretch !important;
  }

  .accounts-header button {
    width: 100% !important;
  }
}

/* ============================================
   FIX: Categories View Mobile
   ============================================ */
@media (max-width: 640px) {
  .categories-page {
    padding: 0.75rem !important;
  }

  .categories-page h2 {
    font-size: 1.5rem !important;
  }
}

/* ============================================
   FIX: PrimeVue DataTable Mobile
   ============================================ */
@media (max-width: 768px) {
  /* Make table scrollable */
  .p-datatable-wrapper {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  /* Reduce table padding */
  .p-datatable .p-datatable-thead > tr > th {
    padding: 0.5rem !important;
    font-size: 0.75rem !important;
    white-space: nowrap !important;
  }

  .p-datatable .p-datatable-tbody > tr > td {
    padding: 0.5rem !important;
    font-size: 0.875rem !important;
  }

  /* Hide less important columns on mobile */
  .p-datatable .p-column-title {
    font-size: 0.75rem !important;
  }
}

/* ============================================
   FIX: PrimeVue Dialog Mobile (Full Screen)
   ============================================ */
@media (max-width: 640px) {
  .p-dialog {
    width: 100vw !important;
    max-width: 100vw !important;
    height: 100vh !important;
    max-height: 100vh !important;
    margin: 0 !important;
    border-radius: 0 !important;
    top: 0 !important;
    left: 0 !important;
    transform: none !important;
  }

  .p-dialog .p-dialog-header {
    padding: 1rem !important;
    border-radius: 0 !important;
  }

  .p-dialog .p-dialog-content {
    padding: 1rem !important;
    overflow-y: auto !important;
    max-height: calc(100vh - 140px) !important;
  }

  .p-dialog .p-dialog-footer {
    padding: 1rem !important;
    display: flex !important;
    gap: 0.5rem !important;
  }

  .p-dialog .p-dialog-footer .p-button {
    flex: 1 !important;
  }

  /* Form inside dialog */
  .form-container {
    gap: 1rem !important;
  }

  .field label {
    font-size: 0.875rem !important;
  }

  .p-inputtext,
  .p-dropdown,
  .p-calendar,
  .p-inputnumber {
    font-size: 0.875rem !important;
  }
}

/* ============================================
   FIX: PrimeVue Buttons Mobile
   ============================================ */
@media (max-width: 640px) {
  .p-button {
    padding: 0.625rem 1rem !important;
    font-size: 0.875rem !important;
    white-space: nowrap !important;
  }

  .p-button-label {
    font-size: 0.875rem !important;
  }

  .p-button-icon {
    font-size: 1rem !important;
  }

  /* Icon-only buttons */
  .p-button.p-button-icon-only {
    width: 2.5rem !important;
    height: 2.5rem !important;
    padding: 0.5rem !important;
  }

  /* Action buttons in tables */
  .action-buttons-row .p-button {
    padding: 0.5rem !important;
    min-width: 2.5rem !important;
  }
}

/* ============================================
   FIX: PrimeVue Dropdown/Select Mobile
   ============================================ */
@media (max-width: 640px) {
  .p-dropdown,
  .p-inputtext,
  .p-inputnumber-input,
  .p-calendar input {
    font-size: 16px !important; /* Prevents zoom on iOS */
    height: 44px !important; /* Better touch target */
  }

  .p-dropdown-panel {
    max-width: 100vw !important;
  }
}

/* ============================================
   FIX: PrimeVue Toast Mobile
   ============================================ */
@media (max-width: 640px) {
  .p-toast {
    width: calc(100vw - 2rem) !important;
    max-width: calc(100vw - 2rem) !important;
  }

  .p-toast-message {
    margin: 0.5rem !important;
  }
}

/* ============================================
   FIX: PrimeVue ConfirmDialog Mobile
   ============================================ */
@media (max-width: 640px) {
  .p-confirmdialog {
    width: 90vw !important;
    max-width: 90vw !important;
  }

  .p-confirmdialog .p-dialog-footer {
    display: flex !important;
    gap: 0.5rem !important;
  }

  .p-confirmdialog .p-dialog-footer .p-button {
    flex: 1 !important;
  }
}

/* ============================================
   FIX: Budget Progress Mobile
   ============================================ */
@media (max-width: 640px) {
  .budget-list {
    gap: 1.5rem !important;
  }

  .budget-info {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 0.25rem !important;
    margin-bottom: 0.75rem !important;
  }

  .budget-info .category-name {
    font-weight: 600 !important;
    font-size: 0.875rem !important;
  }

  .budget-info .values {
    font-size: 0.75rem !important;
    color: #6b7280 !important;
  }

  .p-progressbar {
    height: 8px !important;
  }
}

/* ============================================
   FIX: Budget Alerts Mobile
   ============================================ */
@media (max-width: 640px) {
  .alert {
    padding: 0.875rem !important;
    gap: 0.75rem !important;
  }

  .alert i {
    font-size: 1.125rem !important;
  }

  .alert strong {
    font-size: 0.875rem !important;
  }

  .alert p {
    font-size: 0.8125rem !important;
  }
}

/* ============================================
   FIX: Budget Table Mobile
   ============================================ */
@media (max-width: 640px) {
  .budget-table .section-header {
    flex-direction: column !important;
    align-items: stretch !important;
  }

  .budget-table .table-actions {
    width: 100% !important;
  }

  .budget-table .table-actions button {
    width: 100% !important;
  }

  /* Progress cell in table */
  .progress-cell {
    flex-direction: column !important;
    align-items: flex-start !important;
    gap: 0.5rem !important;
  }

  .progress-cell .p-progressbar {
    width: 100% !important;
  }
}

/* ============================================
   FIX: Transaction Filters Mobile
   ============================================ */
@media (max-width: 640px) {
  .transaction-filters {
    padding: 0 !important;
  }

  .transaction-filters h3 {
    font-size: 1rem !important;
    margin-bottom: 1rem !important;
  }

  .filter-group {
    margin-bottom: 1rem !important;
  }

  .filter-actions button {
    width: 100% !important;
  }

  .quick-stats {
    margin-top: 1.5rem !important;
  }

  .stat-item {
    padding: 0.625rem 0 !important;
  }
}

/* ============================================
   FIX: Charts Mobile
   ============================================ */
@media (max-width: 640px) {
  .chart-container {
    min-width: 100% !important;
    padding: 0 !important;
  }

  .chart-container h3 {
    font-size: 1rem !important;
    margin-bottom: 1rem !important;
  }

  .chart-wrapper {
    height: 250px !important;
  }

  /* PrimeVue Chart */
  .p-chart {
    height: 250px !important;
  }

  canvas {
    max-height: 250px !important;
  }
}

/* ============================================
   FIX: Color Picker Mobile
   ============================================ */
@media (max-width: 640px) {
  .color-input-group {
    flex-direction: row !important;
    align-items: center !important;
  }

  .color-box {
    width: 44px !important;
    height: 44px !important;
  }
}

/* ============================================
   FIX: SelectButton (Type Selector) Mobile
   ============================================ */
@media (max-width: 640px) {
  .p-selectbutton {
    width: 100% !important;
    display: flex !important;
  }

  .p-selectbutton .p-button {
    flex: 1 !important;
    font-size: 0.875rem !important;
  }
}

/* ============================================
   IMPORTANT: Touch Target Improvements
   ============================================ */
@media (max-width: 768px) {
  /* Ensure all interactive elements are at least 44x44px */
  button,
  .p-button,
  a,
  input[type="checkbox"],
  input[type="radio"],
  .p-dropdown,
  .p-calendar {
    min-height: 44px !important;
  }

  /* Increase spacing between clickable elements */
  .action-buttons-row {
    gap: 0.5rem !important;
  }
}

/* ============================================
   FIX: Prevent Horizontal Scroll
   ============================================ */
@media (max-width: 768px) {
  body {
    overflow-x: hidden !important;
  }

  .p-component {
    max-width: 100% !important;
  }

  /* Ensure no element exceeds viewport width */
  * {
    max-width: 100vw !important;
  }

  /* Allow tables to scroll */
  .p-datatable-wrapper,
  .p-datatable-wrapper * {
    max-width: none !important;
  }
}

/* ============================================
   CRITICAL: Import Order Fix
   ============================================ */
/* 
To ensure these styles work, add them in your main.js AFTER PrimeVue:

import 'primevue/resources/themes/lara-light-blue/theme.css';
import 'primevue/resources/primevue.min.css';
import 'primeicons/primeicons.css';
import './assets/style.css'; // Your responsive styles
import './assets/responsive-fixes.css'; // This file
*/